<app-flashcards-menu></app-flashcards-menu>

<div *ngIf="flashcards.length !== 0 && !loading">
  <div class="flashcards-container">
    <div class="flashcards-info">
      <mat-icon [class.random-index-on]="isRandomIndex" class="cursor-p" (click)="toggleRandomIndex()">shuffle
      </mat-icon>
      <mat-icon [class.random-index-on]="menuTrigger.menuOpen" class="cursor-p" [matMenuTriggerFor]="menu" #menuTrigger="matMenuTrigger">info
      </mat-icon>
      <mat-menu #menu="matMenu" yPosition="above">
        <span mat-menu-item (click)="copyToClipboard()" ngxClipboard [cbContent]="flashcards[index]?.id">{{flashcards[index]?.id}}</span>
      </mat-menu>
      {{index + 1}}/{{flashcards.length}}
    </div>
    <div class="flip-card" (click)="flipCard()">
      <div class="flip-card-inner" [ngClass]="!isRotated ? 'flip-back' : 'flip'">
        <div class="flip-card-front">
          <mat-card class="mat-card-background">
            <mat-card-title>{{flashcards[index]?.content}}</mat-card-title>
            <div class="image" [innerHTML]="flashcards[index]?.image"></div>
          </mat-card>
        </div>
        <div class="flip-card-back">
          <mat-card class="mat-card-background">
            <mat-card-title>{{flashcards[index]?.translation}}</mat-card-title>
            <mat-card-content>{{flashcards[index]?.example}}</mat-card-content>
          </mat-card>
        </div>
      </div>
    </div>
    <button mat-button class="next-flashcard-button" color="primary" (click)="nextFlashcard()">Następny</button>
  </div>
</div>

<div *ngIf="flashcards.length === 0 || loading">
  <div class="flashcards-container">
    <div class="flip-card cursor-p">
      <div class="flip-card-inner">
        <div class="flip-card-front">
          <mat-card class="mat-card-background" [class.loading]="loading">
            <mat-spinner *ngIf="loading" mode="indeterminate"></mat-spinner>
            <mat-card-content *ngIf="loading">Twoje fiszki się wczytują...</mat-card-content>
            <mat-card-title *ngIf="!loading">Nie masz fiszek</mat-card-title>
            <div *ngIf="!loading" class="image">
              <img src="assets/sad_dog.jpg">
            </div>
          </mat-card>
        </div>
      </div>
    </div>
    <button mat-button color="primary" disabled>Następny</button>
  </div>
</div>
