<div class="centered-container">
  <mat-card class="mat-card-background max-width">
    <mat-card-title class="center-center entry-page-title">
      <mat-icon class="back-icon" routerLink="/login">arrow_back</mat-icon>
      <span class="register-title">Rejestracja</span>
    </mat-card-title>

    <div class="info-container">
      <div class="warning warning-yellow-color" *ngIf="userForm.hasError('error') || captchaForm.hasError('error')">
        <mat-icon class="info-icon-margin-right smaller-icon">warning</mat-icon>
        <span class="content-margin-left">Wprowadź poprawne dane.</span>
      </div>
      <div class="fail fail-red-color" *ngIf="userForm.hasError('failed')">
        <mat-icon class="info-icon-margin-right smaller-icon">warning</mat-icon>
        <span class="content-margin-left">Rejestracja niepowiodła się.</span>
      </div>
    </div>

    <form class="form-group-container" [formGroup]="userForm">
      <div class="form-group">
        <input id='register-formula-email'
               type="search"
               class="form-field"
               spellcheck="false"
               autocomplete="off"
               placeholder="EMAIL"
               [formControlName]="'email'"
               (click)="resetWarning()"/>
        <label for="register-formula-email" class="form-label">
          EMAIL
        </label>
      </div>

      <div class="form-group">
        <input id='register-formula-password'
               type="password"
               spellcheck="false"
               autocomplete="off"
               class="form-field"
               placeholder="HASŁO"
               [formControlName]="'password'"
               (click)="resetWarning()"/>
        <label for="register-formula-password" class="form-label">
          HASŁO
        </label>
      </div>

      <div class="form-group">
        <input id='register-formula-reply-password'
               type="password"
               class="form-field"
               spellcheck="false"
               autocomplete="off"
               placeholder="POWTÓRZ HASŁO"
               [formControlName]="'replayPassword'"
               (click)="resetWarning()"/>
        <label for="register-formula-reply-password" class="form-label">
          POWTÓRZ HASŁO
        </label>
      </div>

      <app-captcha (captchaStatusEmitter)="setCaptchaStatus($event)"></app-captcha>
    </form>

    <div class="entry-page-action-buttons">
      <button mat-button class="cancel-button entry-page-margin-right" (click)="userForm.reset(); captchaForm.reset()">
        <mat-icon>clear</mat-icon>
      </button>
      <button mat-button class="green-button center-center" (click)="register()">
        Zarejestruj
      </button>
    </div>
  </mat-card>
</div>
